{"version":3,"sources":["Components/MapContainer/MapContainer.js","Components/PointInput/PointInput.js","Components/PointList/PointList.js","Components/ScreenToggler/ScreenToggler.js","LocationPoint/LocationPoint.js","App.js","index.js"],"names":["YandexMap","displayName","Placemark","Polyline","modules","mapDefaults","center","zoom","MapContainer","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","ymaps","state","loaded","handleLoad","bind","assertThisInitialized","onBoundsChange","map","events","add","e","get","setState","locationPoint","index","onPlacemarkDragEnd","react_default","a","createElement","react_yandex_maps_umd_production_min","onDragend","coords","geometry","getCoordinates","properties","balloonContentBody","value","options","preset","iconColor","draggable","hideIconOnBalloonOpen","key","id","_this2","_this$props","locations","_this$props$className","className","loadingModifier","concat","defaultState","onLoad","instanceRef","ref","location","i","getPlacemark","loc","strokeColor","strokeWidth","Component","PointInput","handleChange","handleSubmit","target","onSubmit","preventDefault","type","onChange","placeholder","PointList","_React$Component","apply","arguments","inherits","createClass","onDelete","_this$props2","provided","innerRef","droppableProps","items","children","PointList_PointListItem","assign","React","DraggablePointList","onDragEnd","rest","objectWithoutProperties","react_beautiful_dnd_esm","result","destination","sourceIndex","source","destIndex","droppableId","PointList_PointList_PointList","DraggablePointListItem","PointListItem","_React$Component2","_this$props3","_this$props4","_ref2","draggableProps","dragHandleProps","onClick","draggableId","ScreenToggler","label","handleToggle","initialLabel","onToggle","toggledLabel","makeLocationPointFactory","length","undefined","address","Error","addLocationPoint","updateLocationPoint","update","Array","isArray","locs","slice","viewList","shouldBeHidden","view","activeView","App","_Component","mapCenter","createLocationPoint","toggleView","deleteLocationPoint","moveLocationPoint","requestValue","geocode","results","fetch","then","response","geoObjects","coordinates","getAddressLine","_addLocationPoint2","asyncToGenerator","regenerator_default","mark","_callee","updateState","wrap","_context","prev","next","abrupt","Promise","resolve","reject","stop","_x","filter","from","to","fromPosition","toPosition","extractedPoint","splice","_updateLocationPoint2","_callee2","_this3","_context2","_x2","_x3","_this4","PointInput_PointInput_PointInput","MapContainer_MapContainer_MapContainer","ScreenToggler_ScreenToggler_ScreenToggler","withYMaps","ReactDOM","render","query","apikey","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.aae3e2a1.chunk.js","sourcesContent":["import './MapContainer.css';\n\nimport React, { Component } from 'react';\nimport { Map as YandexMap, Placemark, Polyline } from 'react-yandex-maps';\n\nYandexMap.displayName = 'Map';\nPlacemark.displayName = 'Placemark';\nPolyline.displayName = 'Polyline';\n\nconst modules = [\n  'geocode',\n  'geoObject.addon.balloon',\n];\n\nconst mapDefaults = { center: [55.75, 37.57], zoom: 12 };\n\nexport default class MapContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ymaps = null;\n\n    this.state = {\n      loaded: false,\n    };\n\n    this.handleLoad = this.handleLoad.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.onBoundsChange(mapDefaults.center);\n  }\n\n  handleLoad(ymaps) {\n    const { onBoundsChange } = this.props;\n\n    this.map.events.add('boundschange', (e) => {\n      onBoundsChange(e.get('newCenter'));\n    });\n\n    this.setState({ loaded: true });\n  }\n\n  getPlacemark(locationPoint, index) {\n    const { onPlacemarkDragEnd } = this.props;\n  \n    return (\n      <Placemark\n        onDragend={(e) => {\n          const coords = e.get('target').geometry.getCoordinates();\n          onPlacemarkDragEnd(index, { coords });\n        }}\n        properties={{\n          balloonContentBody: locationPoint.value,\n        }}\n        options={{\n          preset: 'islands#circleDotIcon',\n          iconColor: '#FF270F',\n          draggable: true,\n          hideIconOnBalloonOpen: false,\n        }}\n        key={locationPoint.id}\n        geometry={locationPoint.coords} \n      />\n    );\n  }\n\n  render() {\n    const { locations, className = '' } = this.props;\n    const loadingModifier =\n      (this.state.loaded ? '' : 'MapContainer_status_loading');\n\n    return (\n      <div\n        className={`\n          MapContainer\n          App-MapContainer\n          ${className}\n          ${loadingModifier}\n          MapContainer_size_fluid\n          MapContainer_max-size_md\n        `}\n      >\n        <YandexMap\n          className=\"Map\"\n          modules={modules}\n          defaultState={mapDefaults}\n          onLoad={this.handleLoad}\n          instanceRef={ref => (this.map = ref)}\n        >\n        { locations.map((location, i) => this.getPlacemark(location, i)) }\n        <Polyline\n          geometry={locations.map(loc => loc.coords)}\n          options={{\n            strokeColor: '#FF270F',\n            strokeWidth: 4,\n          }}\n        />\n        </YandexMap>\n      </div>\n    );\n  }\n}\n","import './PointInput.css';\n\nimport React, { Component } from 'react';\n\nexport default class PointInput extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: '',\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({ value: e.target.value });\n  }\n\n  handleSubmit(e) {\n    const { value } = this.state;\n    this.props.onSubmit(value);\n    this.setState({ value: '' });\n    e.preventDefault();\n  }\n\n  render() {\n    return (\n      <form className=\"App-Form\" onSubmit={this.handleSubmit}>\n        <input className=\"PointInput\" type=\"text\" value={this.state.value} onChange={this.handleChange} placeholder=\"Введите адрес...\" />\n      </form>\n    );\n  }\n}\n","import './PointList.css';\n\nimport React from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\n// PointList component is built with react-beautiful-dnd\n// @see https://github.com/atlassian/react-beautiful-dnd\nexport class PointList extends React.Component {\n  render() {\n    const { locations, onDelete } = this.props;\n    // Props provided from Draggable\n    const { provided, innerRef} = this.props;\n    const { droppableProps } = (provided || {});\n\n    const items = this.props.children ||\n      locations.map((location) => (\n        <PointListItem\n          location={location}\n          onDelete={onDelete}\n          key={location.id}\n        />\n      ));\n\n    return (\n      <ul\n        className=\"PointList App-PointList\"\n        ref={innerRef}\n        { ...droppableProps }\n      >\n        {items}\n      </ul>\n    );\n  }\n}\n\nexport function DraggablePointList(props) {\n  const { onDragEnd, ...rest } = props;\n\n  const handleDragEnd = (result) => {\n    if (!result.destination) {\n      return;\n    }\n\n    const sourceIndex = result.source.index;\n    const destIndex = result.destination.index;\n\n    onDragEnd(sourceIndex, destIndex);\n  };\n  \n  return (\n    <DragDropContext onDragEnd={handleDragEnd}>\n      <Droppable droppableId=\"PointList-1\">\n        {provided => (\n          <PointList\n            provided={provided}\n            innerRef={provided.innerRef}\n          >\n            {rest.locations.map((location, index) => (\n              <DraggablePointListItem\n                // Draggable props\n                id={location.id}\n                index={index}\n\n                location={location}\n                onDelete={rest.onDelete}\n                key={location.id}\n              />\n            ))}\n            {provided.placeholder}\n          </PointList>\n        )}\n      </Droppable>\n    </DragDropContext>\n  );\n}\n\nexport class PointListItem extends React.Component {\n  render() {\n    const { location, onDelete } = this.props;\n    const { provided, innerRef } = this.props;\n    \n    const { draggableProps, dragHandleProps } = (provided || {});\n\n    return (\n      <li\n        className=\"PointList-Item Item\" \n        {...draggableProps}\n        ref={innerRef}\n      >\n        <div\n          className=\"Item-Icon\" \n          {...dragHandleProps}\n        ></div>\n        <div className=\"Item-Location\">{location.value}</div>\n        <button\n          className=\"Item-Button Item-Button_action_remove\"\n          onClick={() => onDelete(location.id)}\n        ></button>\n      </li>\n    );\n  }\n}\n\nfunction DraggablePointListItem(props) {\n    const { id, index, ...rest } = props;\n\n    return (\n      <Draggable draggableId={id} index={index}>\n        {(provided) => (\n          <PointListItem provided={provided} placeholder={provided.placeholder} innerRef={provided.innerRef} {...rest} />\n        )}\n      </Draggable>\n    );\n}\n","import './ScreenToggler.css';\n\nimport React from 'react';\n\nexport class ScreenToggler extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      label: ''\n    };\n\n    this.handleToggle = this.handleToggle.bind(this);\n  }\n\n  componentDidMount() {\n    const { initialLabel: label } = this.props;\n\n    this.setState((state) => ({ label }));\n  }\n\n  handleToggle() {\n    const { onToggle, initialLabel, toggledLabel } = this.props;\n\n    this.setState((state) => ({\n      label: state.label === initialLabel ? toggledLabel : initialLabel,\n    }));\n\n    onToggle();\n  }\n  \n  render() {\n    const { label } = this.state;\n\n    return (\n      <button \n        className=\"ScreenToggler App-ScreenToggler\" \n        onClick={this.handleToggle}\n      >\n        {label}\n      </button>\n    );\n  }\n}\n","/**\n * @typedef {Object} LocationPoint\n * @property {number} id - unique id (may be used as a key)\n * @property {string} value - Human readable address of the point\n */\n\n\n/**\n * Cretes a factory for creating LocationPoints with automatic id increment.\n * \n * @param {number} initialId - start incrementing id from\n * @returns {function}\n */\nexport const makeLocationPointFactory = ((initialId = 0) => {\n  let id = initialId;\n\n  /**\n   * LocationPoint object (plain object) with the provided address,\n   * and calculated id.\n   * \n   * @param {string} address\n   * @param {arrray} coords\n   * @returns {LocationPoint}\n   */\n  return function createLocationPoint(address, coords = []) {\n    if (address === undefined) {\n      throw new Error('MisiingArgument: Expected to get an address arg, but undefined encountered');\n    }\n\n    const locationPoint = {\n      id,\n      coords,\n      value: address,\n    };\n\n    id = id + 1;\n\n    return locationPoint;\n  };\n});\n\n/**\n * Create a LocationPoint with a provided address and add it to a copy of\n * locations array. The method does not mutate the data.\n *\n * @param {Array.<LocationPoint>} locations\n * @param {LocationPoint} loactionPoint\n * @returns {Array.<LocationPoint>} Returns new array containing created point\n */\nexport function addLocationPoint(locations, locationPoint) {\n  if (locationPoint.value === undefined || locationPoint.id === undefined) {\n    throw new Error('InvalidArgument: provided object does not match the location point signature');\n  }\n\n  return locations.concat([locationPoint]);\n};\n\n/**\n * Returns a new array without the LocationPoint with a provided id. \n * \n * The method does not mutate the provided args.\n * \n * @param {Array.<LocationPoint>} locations\n * @param {number} id - unique id of the point that should be deleted\n * @returns {Array.<LocationPoint>} new locations array\n */\nexport function deleteLocationPoint(locations, id) {\n  if (id === undefined) {\n    throw new Error('MissingArgument: Expected to get a point id as the second argument, but undefined encountered');\n  }\n\n  return locations.filter((location) => {\n    return location.id !== id;\n  });\n}\n\n/**\n * Returns a new locations array with a moved LocationPoint from fromPosition\n * to toPosition. Method extracts the point and latter inserts it so other\n * points in range [fromPosition..toPosiition] got shifted. \n * \n * The method does not mutate the provided args.\n * \n * @param {Array.<LocationPoint>} locations\n * @param {number} fromPosition\n * @param {number} toPosition\n * @returns {Array.<LocationPoint>}\n */\nexport function moveLocationPoint(locations, fromPosition, toPosition) {\n  \n  if (fromPosition < 0 || fromPosition >= locations.length) {\n    throw new Error('RangeError: Trying to access the fromPosition being out of the locations array range');\n  }\n\n  if (toPosition < 0 || toPosition >= locations.length) {\n    throw new Error('RangeError: Trying to access the toPosition being out of the locations array range');\n  }\n\n  const locs = locations.slice(0);\n  const extractedPoint = locs.splice(fromPosition, 1)[0];\n  locs.splice(toPosition, 0, extractedPoint);\n  return locs;\n}\n\n/**\n * \n * @typedef {Object} Update \n * @property {Array.<number>?} coords - two-items array of point coordinates\n * @property {string?} value - text address of the point\n */\n\n/**\n * Returns a new array with the LocationPoint at the specified index being \n * updated with the address value. If update object is null, the method will\n * reassign the element at a given index, without changing an actual values \n * (only the item reference will be changed).\n * \n * The method does not mutate the provided args.\n * \n * @param {Array.<LocationPoint>} locations \n * @param {number} index\n * @param {Update|null} update\n * \n * @returns {Array.<LocationPoint>}\n */\nexport function updateLocationPoint(locations, index, update) {\n  if (index < 0 || index >= locations.length) {\n    throw new Error(`RangeError: Trying to access element being out of the locations array range`);\n  }\n\n  if (typeof update !== 'object') {\n    throw new Error('SignatureError: Expected to get the second argument as an object');\n  }\n\n  if (update && (!Array.isArray(update.coords) && !update.value)) {\n    throw new Error('ArgumentSignatureError: Expected to get the second update arg with either address or coordinates or both, but no defined property encountered')\n  }\n  const locs = locations.slice(0);\n  \n  locs[index] = Object.assign({}, locs[index], update);\n\n  return locs;\n}\n","import './App.css';\n\nimport React, { Component } from 'react';\nimport { withYMaps } from 'react-yandex-maps';\nimport MapContainer from './Components/MapContainer/MapContainer.js';\nimport PointInput from './Components/PointInput/PointInput.js';\nimport { DraggablePointList } from './Components/PointList/PointList.js';\nimport { ScreenToggler } from './Components/ScreenToggler/ScreenToggler.js';\n\nimport {\n  addLocationPoint,\n  deleteLocationPoint,\n  moveLocationPoint,\n  updateLocationPoint,\n  makeLocationPointFactory,\n} from './LocationPoint/LocationPoint.js';\nimport { notEmptyArray } from './Utils/Array.js'\n\nexport const viewList = ['App-PointList', 'App-MapContainer'];\nconst shouldBeHidden = (view, activeView) => (\n  view !== activeView ? 'is-hidden' : ''\n);\n\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      locations: [],\n      activeView: viewList[0],\n    };\n\n    this.mapCenter = [];\n\n    this.createLocationPoint = makeLocationPointFactory();\n\n    this.toggleView = this.toggleView.bind(this);\n    this.addLocationPoint = this.addLocationPoint.bind(this);\n    this.deleteLocationPoint = this.deleteLocationPoint.bind(this);\n    this.moveLocationPoint = this.moveLocationPoint.bind(this);\n    this.updateLocationPoint = this.updateLocationPoint.bind(this);\n  }\n\n  fetch(requestValue) {\n    const { geocode } = this.props.ymaps;\n    return geocode(requestValue, { results: 1 });\n  }\n\n  fetchPointCoords(address) {\n    return this.fetch(address).then(response => \n      response.geoObjects.get(0).geometry.getCoordinates()\n    );\n  }\n\n  fetchPointAddress(coordinates) {\n    return this.fetch(coordinates).then(response => \n      response.geoObjects.get(0).getAddressLine()\n    );\n  }\n\n  toggleView() {\n    const nextView = (view) => (\n      view === viewList[0] ? viewList[1] : viewList[0]\n    );\n\n    this.setState((state) => ({\n      activeView: nextView(state.activeView),\n    }));\n  }\n\n  async addLocationPoint(value) {\n    // const coords = await this.fetchPointCoords(value);\n    const locationPoint = this.createLocationPoint(value, this.mapCenter);\n\n    const updateState = (state) => ({\n      locations: addLocationPoint(state.locations, locationPoint),\n    });\n\n    return new Promise((resolve, reject) => {\n      try {\n        this.setState(updateState, () => {\n          resolve(locationPoint);\n        });\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  deleteLocationPoint(id) {\n    this.setState((state) => ({\n      locations: deleteLocationPoint(state.locations, id),\n    }));\n  }\n\n  moveLocationPoint(from, to) {\n    this.setState((state) => ({\n      locations: moveLocationPoint(state.locations, from, to),\n    }));\n  }\n\n  async updateLocationPoint(index, update) {\n    const updateState = (state) => ({\n      locations: updateLocationPoint(state.locations, index, update),\n    });\n\n    // Return a new promise that will be resolved only after\n    // the state is updated\n    return new Promise((resolve, reject) => {\n      try {\n        this.setState(updateState, () => {\n          resolve(update);\n        });\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  render() {\n    const { activeView } = this.state; \n\n    return (\n      <main className=\"App\">\n        <div className=\"\n          App-InnerContainer\n          App-InnerContainer_row\n          App-InnerContainer_fluid\n        \">\n          <div className={`\n            App-Dashboard\n            ${shouldBeHidden(viewList[0], activeView)}\n          `}>\n            <PointInput onSubmit={this.addLocationPoint} />\n            <DraggablePointList\n              onDragEnd={this.moveLocationPoint}\n              onDelete={this.deleteLocationPoint}\n              locations={this.state.locations} />\n          </div>\n          <MapContainer\n            onBoundsChange={(coords) => { this.mapCenter = coords; }}\n            className={shouldBeHidden(viewList[1], activeView)}\n            locations={this.state.locations}\n            onPlacemarkDragEnd={this.updateLocationPoint} \n          />     \n        </div>\n        <ScreenToggler\n          onToggle={this.toggleView}\n          initialLabel=\"Показать карту\"\n          toggledLabel=\"Показать список точек\"\n        />\n      </main>\n    );\n  }\n}\n\nexport default withYMaps(App, true, ['geocode']);\n","import './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { YMaps } from \"react-yandex-maps\";\nimport App from './App.js';\n\nconst apikey = '262287d2-a40d-4b35-b808-7d4231cb5915';\n\nReactDOM.render(\n  <YMaps query={{ apikey }}>\n    <App />\n  </YMaps>, \n  document.getElementById('root')\n);\n"],"sourceRoot":""}